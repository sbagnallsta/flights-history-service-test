general:
  branches:
    only:
      - master

machine:
  java:
    version: openjdk8
  environment:
    GOPATH: "${HOME}/flights-history-service"

dependencies:
  override:
    - go get ./..

compile: 
  override:
    - cd src/main/ && go install && go build main.go
    - cd src/main/ && go run main.go:
      background: true

test:
  override:
    - cd automation-qa/flights-history-service-qa/ && mvn clean test -DargLine="-Dspring.profiles.active=ci" -Dcucumber.options="--tags @smoke"

